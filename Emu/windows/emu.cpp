/*
   Nintendo Game boy Emulator
   Copyright (C) 2020 Orin
*/

#include "emu.h"


// I grabbed these palettes from another repo 
static GB_Color original_palette[4] = {{0x87, 0x96, 0x03},{0x4D, 0x6B, 0x03},{0x2B, 0x55, 0x03},{0x14, 0x44, 0x03}};
static GB_Color sharp_palette[4] = {{0xF5, 0xFA, 0xEF},{0x86, 0xC2, 0x70},{0x2F, 0x69, 0x57},{0x0B, 0x19, 0x20}};
static GB_Color bw_palette[4] = {{0xFF, 0xFF, 0xFF},{0xAA, 0xAA, 0xAA},{0x55, 0x55, 0x55},{0x00, 0x00, 0x00}};
static GB_Color autumn_palette[4] = {{0xFF, 0xF6, 0xD3},{0xF9, 0xA8, 0x75},{0xEB, 0x6B, 0x6F},{0x7C, 0x3F, 0x58}};
static GB_Color soft_palette[4] = {{0xE0, 0xE0, 0xAA},{0xB0, 0xB8, 0x7C},{0x72, 0x82, 0x5B},{0x39, 0x34, 0x17}};
static GB_Color slime_palette[4] = {{0xD4, 0xEB, 0xA5},{0x62, 0xB8, 0x7C},{0x27, 0x76, 0x5D},{0x1D, 0x39, 0x39}};

static bool save_files_in_rom = false;
static uint16_t* frame_buffer_;
static uint16_t* debug_background_buffer_;
static uint16_t* debug_tile_buffers_[2];
static uint16_t* debug_oam_buffers_[40];
static int16_t* audio_buffer;
static bool audio_enabled;
static char base_save_path[260];


void emu_init(const char* save_path)
{
    strcpy(base_save_path, save_path);

    frame_buffer_ = new uint16_t[GAMEBOY_WIDTH * GAMEBOY_HEIGHT];
    //Come back here once GBC is enabled, as well as the 'emuboy' definition

}